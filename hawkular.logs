2018-08-08 09:40:38 Starting Hawkular Metrics
The service account has read permissions for its project. Proceeding
The service account has permission to watch namespaces. Proceeding
Creating the Hawkular Metrics keystore from the Secret's cert data
Converting the PKCS12 keystore into a Java Keystore
Importing keystore /opt/hawkular/auth/hawkular-metrics.pkcs12 to /opt/hawkular/auth/hawkular-metrics.keystore...
Entry for alias hawkular-metrics successfully imported.
Import command completed:  1 entries successfully imported, 0 entries failed or cancelled
[Storing /opt/hawkular/auth/hawkular-metrics.keystore]

Warning:
The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using "keytool -importkeystore -srckeystore /opt/hawkular/auth/hawkular-metrics.keystore -destkeystore /opt/hawkular/auth/hawkular-metrics.keystore -deststoretype pkcs12".
Building the trust store
Certificate was added to keystore
Certificate was added to keystore
Splitting up the Kubernetes CA into individual certificates
Adding the Kubernetes CAs into the trust store
Certificate was added to keystore
Retrieving the Logging's CA and adding to the trust store, if Logging is available
Could not get the logging secret! Status code: 403. The Hawkular Alerts integration with Logging might not work properly.
-Xms298m -Xmx1192m -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:+UseParallelOldGC -XX:MinHeapFreeRatio=10 -XX:MaxHeapFreeRatio=20 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -XX:MaxMetaspaceSize=100m -XX:+ExitOnOutOfMemoryError
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /opt/eap

  JAVA: /usr/lib/jvm/java-1.8.0/bin/java

  JAVA_OPTS:  -server -verbose:gc -Xloggc:"/opt/eap/standalone/log/gc.log" -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=3M -XX:-TraceClassUnloading -Xms1192m  -Xmx1192m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.logmanager,jdk.nashorn.api -Djava.awt.headless=true -Dhawkular.metrics.jmx-reporting-enabled -javaagent:/opt/eap/bin/jmx_prometheus_javaagent.jar=7575:/opt/eap/standalone/configuration/prometheus.yaml -Xbootclasspath/p:/opt/eap/jboss-modules.jar:/opt/eap/modules/system/layers/base/.overlays/layer-base-jboss-eap-7.1.2.CP/org/jboss/logmanager/main/jboss-logmanager-2.0.8.Final-redhat-1.jar:/opt/eap/modules/system/layers/base/org/jboss/logmanager/ext/main/jboss-logmanager-ext-1.0.0.Alpha2-redhat-1.jar -Djava.util.logging.manager=org.jboss.logmanager.LogManager -javaagent:/opt/eap/jolokia.jar=port=8778,protocol=https,caCert=/var/run/secrets/kubernetes.io/serviceaccount/ca.crt,clientPrincipal=cn=system:master-proxy,useSslClientAuthentication=true,extraClientCheck=true,host=0.0.0.0,discoveryEnabled=false -Djava.security.egd=file:/dev/./urandom -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp/heapdump

=========================================================================

[0m2018-08-08 09:40:50,727 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.0.Final-redhat-1
[0mI> No access restrictor found, access to any MBean is allowed
Jolokia: Agent started with URL https://10.129.1.140:8778/jolokia/
[0m2018-08-08 09:40:51,105 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.SP1-redhat-1
[0m[0m2018-08-08 09:40:51,268 INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0049: JBoss EAP 7.1.2.GA (WildFly Core 3.0.13.Final-redhat-1) starting
[0m[32m2018-08-08 09:40:51,269 DEBUG [org.jboss.as.config] (MSC service thread 1-8) Configured system properties:
	KUBERNETES_MASTER_URL = https://kubernetes.default.svc
	USER_WRITE_ACCESS = False
	[Standalone] = 
	awt.toolkit = sun.awt.X11.XToolkit
	com.datastax.driver.FORCE_NIO = true
	file.encoding = ANSI_X3.4-1968
	file.encoding.pkg = sun.io
	file.separator = /
	hawkular-alerts.cassandra-nodes = hawkular-cassandra
	hawkular-alerts.cassandra-use-ssl = true
	hawkular-alerts.elasticsearch-token = eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJvcGVuc2hpZnQtaW5mcmEiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiaGF3a3VsYXItdG9rZW4tNjZzNGYiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiaGF3a3VsYXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiI2MWI3MWZlNy04Njg3LTExZTgtODgwOS0wNmI3ZjkzYmUyMTQiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6b3BlbnNoaWZ0LWluZnJhOmhhd2t1bGFyIn0.wPArjj6cdIUaJxwLt17_FjtkhF-jW65_ga1hR4Ym5e1ezeXLWrvM1-iTonjMk6HeSixUAQI2jiAb7ec9vzuN536x1qusVOL2G6uoS7K5162rLaU53JO_s-MJXhJ_yC3ZF17cmLLpc-01DCa4bMq2bRKiAnYasONACI-51s6LiIYgiC3k3iM-mFLJrOBbcVEDOGi4XluUVYDOaT1CeRUwNKxmB1YhuD-lSSWHcyHv_T9fxEPeerYkGL4acAWBul5BFaFHiNAZ9EPXgasH5vBzibdrbDGMtCIJKiejPNf7MwWZ9PV7ZGzooM-2G1WdsfGthUvEC8qo92Wgf59ArhLU6A
	hawkular.alerts.allowed-cors-access-control-allow-headers = authorization
	hawkular.alerts.openshift.auth-methods = openshift-oauth,htpasswd
	hawkular.alerts.openshift.htpasswd-file = /hawkular-account/hawkular-metrics.htpasswd
	hawkular.metrics.admin-tenant = _hawkular_admin
	hawkular.metrics.allowed-cors-access-control-allow-headers = authorization
	hawkular.metrics.cassandra.nodes = hawkular-cassandra
	hawkular.metrics.cassandra.use-ssl = true
	hawkular.metrics.default-ttl = 7
	hawkular.metrics.jmx-reporting-enabled = true
	hawkular.metrics.openshift.auth-methods = openshift-oauth,htpasswd
	hawkular.metrics.openshift.htpasswd-file = /hawkular-account/hawkular-metrics.htpasswd
	java.awt.graphicsenv = sun.awt.X11GraphicsEnvironment
	java.awt.headless = true
	java.awt.printerjob = sun.print.PSPrinterJob
	java.class.path = /opt/eap/jboss-modules.jar:/opt/eap/bin/jmx_prometheus_javaagent.jar:/opt/eap/jolokia.jar
	java.class.version = 52.0
	java.endorsed.dirs = /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/endorsed
	java.ext.dirs = /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/ext:/usr/java/packages/lib/ext
	java.home = /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre
	java.io.tmpdir = /tmp
	java.library.path = /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib
	java.net.preferIPv4Stack = true
	java.runtime.name = OpenJDK Runtime Environment
	java.runtime.version = 1.8.0_171-b10
	java.security.egd = file:/dev/./urandom
	java.specification.name = Java Platform API Specification
	java.specification.vendor = Oracle Corporation
	java.specification.version = 1.8
	java.util.logging.manager = org.jboss.logmanager.LogManager
	java.vendor = Oracle Corporation
	java.vendor.url = http://java.oracle.com/
	java.vendor.url.bug = http://bugreport.sun.com/bugreport/
	java.version = 1.8.0_171
	java.vm.info = mixed mode
	java.vm.name = OpenJDK 64-Bit Server VM
	java.vm.specification.name = Java Virtual Machine Specification
	java.vm.specification.vendor = Oracle Corporation
	java.vm.specification.version = 1.8
	java.vm.vendor = Oracle Corporation
	java.vm.version = 25.171-b10
	javax.management.builder.initial = org.jboss.as.jmx.PluggableMBeanServerBuilder
	javax.net.ssl.keyStore = /opt/hawkular/auth/hawkular-metrics.keystore
	javax.net.ssl.keyStorePassword = <redacted>
	javax.net.ssl.trustStore = /opt/hawkular/auth/hawkular-metrics.truststore
	javax.net.ssl.trustStorePassword = <redacted>
	javax.xml.datatype.DatatypeFactory = __redirected.__DatatypeFactory
	javax.xml.parsers.DocumentBuilderFactory = __redirected.__DocumentBuilderFactory
	javax.xml.parsers.SAXParserFactory = __redirected.__SAXParserFactory
	javax.xml.stream.XMLEventFactory = __redirected.__XMLEventFactory
	javax.xml.stream.XMLInputFactory = __redirected.__XMLInputFactory
	javax.xml.stream.XMLOutputFactory = __redirected.__XMLOutputFactory
	javax.xml.transform.TransformerFactory = __redirected.__TransformerFactory
	javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema = __redirected.__SchemaFactory
	javax.xml.xpath.XPathFactory:http://java.sun.com/jaxp/xpath/dom = __redirected.__XPathFactory
	jboss.bind.address = 0.0.0.0
	jboss.bind.address.private = 10.129.1.140
	jboss.home.dir = /opt/eap
	jboss.host.name = hawkular-metrics-fpr2v
	jboss.modules.dir = /opt/eap/modules
	jboss.modules.system.pkgs = org.jboss.logmanager,jdk.nashorn.api
	jboss.node.name = hawkular-metrics-fpr2v
	jboss.qualified.host.name = hawkular-metrics-fpr2v
	jboss.server.base.dir = /opt/eap/standalone
	jboss.server.config.dir = /opt/eap/standalone/configuration
	jboss.server.data.dir = /opt/eap/standalone/data
	jboss.server.deploy.dir = /opt/eap/standalone/data/content
	jboss.server.log.dir = /opt/eap/standalone/log
	jboss.server.name = hawkular-metrics-fpr2v
	jboss.server.persist.config = true
	jboss.server.temp.dir = /opt/eap/standalone/tmp
	jgroups.password = <redacted>
	jolokia.agent = https://10.129.1.140:8778/jolokia/
	line.separator = 

	logging.configuration = file:/opt/eap/standalone/configuration/logging.properties
	module.path = /opt/eap/modules
	org.apache.catalina.connector.CoyoteAdapter.ALLOW_BACKSLASH = true
	org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH = true
	org.jboss.boot.log.file = /opt/eap/standalone/log/server.log
	org.jboss.resolver.warning = true
	org.xml.sax.driver = __redirected.__XMLReaderFactory
	os.arch = amd64
	os.name = Linux
	os.version = 3.10.0-862.6.3.el7.x86_64
	path.separator = :
	sun.arch.data.model = 64
	sun.boot.class.path = /opt/eap/jboss-modules.jar:/opt/eap/modules/system/layers/base/.overlays/layer-base-jboss-eap-7.1.2.CP/org/jboss/logmanager/main/jboss-logmanager-2.0.8.Final-redhat-1.jar:/opt/eap/modules/system/layers/base/org/jboss/logmanager/ext/main/jboss-logmanager-ext-1.0.0.Alpha2-redhat-1.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/resources.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/rt.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/jsse.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/jce.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/charsets.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/jfr.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/classes
	sun.boot.library.path = /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre/lib/amd64
	sun.cpu.endian = little
	sun.cpu.isalist = 
	sun.io.unicode.encoding = UnicodeLittle
	sun.java.command = /opt/eap/jboss-modules.jar -mp /opt/eap/modules org.jboss.as.standalone -Djboss.home.dir=/opt/eap -Djboss.server.base.dir=/opt/eap/standalone -Djavax.net.ssl.keyStore=/opt/hawkular/auth/hawkular-metrics.keystore -Djavax.net.ssl.trustStore=/opt/hawkular/auth/hawkular-metrics.truststore -Djboss.node.name=hawkular-metrics-fpr2v -b 10.129.1.140 -bprivate 10.129.1.140 -P /opt/hawkular/server.properties -b 0.0.0.0 -Dhawkular.metrics.cassandra.nodes=hawkular-cassandra -Dhawkular.metrics.cassandra.use-ssl -Dhawkular.metrics.openshift.auth-methods=openshift-oauth,htpasswd -Dhawkular.metrics.openshift.htpasswd-file=/hawkular-account/hawkular-metrics.htpasswd -Dhawkular.metrics.allowed-cors-access-control-allow-headers=authorization -Dhawkular.metrics.default-ttl=7 -Dhawkular.metrics.admin-tenant=_hawkular_admin -Dhawkular-alerts.cassandra-nodes=hawkular-cassandra -Dhawkular-alerts.cassandra-use-ssl -Dhawkular.alerts.openshift.auth-methods=openshift-oauth,htpasswd -Dhawkular.alerts.openshift.htpasswd-file=/hawkular-account/hawkular-metrics.htpasswd -Dhawkular.alerts.allowed-cors-access-control-allow-headers=authorization -Dorg.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH=true -Dorg.apache.catalina.connector.CoyoteAdapter.ALLOW_BACKSLASH=true -Dcom.datastax.driver.FORCE_NIO=true -DKUBERNETES_MASTER_URL=https://kubernetes.default.svc -DUSER_WRITE_ACCESS=False -Dhawkular.metrics.jmx-reporting-enabled
	sun.java.launcher = SUN_STANDARD
	sun.jnu.encoding = ANSI_X3.4-1968
	sun.management.compiler = HotSpot 64-Bit Tiered Compilers
	sun.os.patch.level = unknown
	user.country = US
	user.dir = /home/jboss
	user.home = ?
	user.language = en
	user.name = ?
	user.timezone = UTC
[0m[32m2018-08-08 09:40:51,270 DEBUG [org.jboss.as.config] (MSC service thread 1-8) VM Arguments: -D[Standalone] -verbose:gc -Xloggc:/opt/eap/standalone/log/gc.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=3M -XX:-TraceClassUnloading -Xms1192m -Xmx1192m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.logmanager,jdk.nashorn.api -Djava.awt.headless=true -Dhawkular.metrics.jmx-reporting-enabled -javaagent:/opt/eap/bin/jmx_prometheus_javaagent.jar=7575:/opt/eap/standalone/configuration/prometheus.yaml -Xbootclasspath/p:/opt/eap/jboss-modules.jar:/opt/eap/modules/system/layers/base/.overlays/layer-base-jboss-eap-7.1.2.CP/org/jboss/logmanager/main/jboss-logmanager-2.0.8.Final-redhat-1.jar:/opt/eap/modules/system/layers/base/org/jboss/logmanager/ext/main/jboss-logmanager-ext-1.0.0.Alpha2-redhat-1.jar -Djava.util.logging.manager=org.jboss.logmanager.LogManager -javaagent:/opt/eap/jolokia.jar=port=8778,protocol=https,caCert=/var/run/secrets/kubernetes.io/serviceaccount/ca.crt,clientPrincipal=cn=system:master-proxy,useSslClientAuthentication=true,extraClientCheck=true,host=0.0.0.0,discoveryEnabled=false -Djava.security.egd=file:/dev/./urandom -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp/heapdump -Dorg.jboss.boot.log.file=/opt/eap/standalone/log/server.log -Dlogging.configuration=file:/opt/eap/standalone/configuration/logging.properties 
[0m[0m2018-08-08 09:40:53,007 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
[0m[0m2018-08-08 09:40:53,038 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 30) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
[0m[0m2018-08-08 09:40:53,055 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 23) WFLYCTL0028: Attribute 'socket-binding' in the resource at address '/subsystem=jgroups/stack=udp/protocol=FD_SOCK' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
[0m[0m2018-08-08 09:40:53,066 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 23) WFLYCTL0028: Attribute 'socket-binding' in the resource at address '/subsystem=jgroups/stack=tcp/protocol=openshift.KUBE_PING' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
[0m[0m2018-08-08 09:40:53,067 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 23) WFLYCTL0028: Attribute 'socket-binding' in the resource at address '/subsystem=jgroups/stack=tcp/protocol=FD_SOCK' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
[0m[0m2018-08-08 09:40:53,266 INFO  [org.jboss.as.repository] (ServerService Thread Pool -- 3) WFLYDR0001: Content added at location /opt/eap/standalone/data/content/8b/55b9460f2bded4c870deeaca29202ebd9e471c/content
[0m[0m2018-08-08 09:40:53,390 INFO  [org.jboss.as.repository] (ServerService Thread Pool -- 3) WFLYDR0001: Content added at location /opt/eap/standalone/data/content/f5/7531da7abe32c273d15de5066859532b935c44/content
[0m[0m2018-08-08 09:40:53,407 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
[0m[0m2018-08-08 09:40:53,422 INFO  [org.xnio] (MSC service thread 1-6) XNIO version 3.5.5.Final-redhat-1
[0m[0m2018-08-08 09:40:53,429 INFO  [org.xnio.nio] (MSC service thread 1-6) XNIO NIO Implementation Version 3.5.5.Final-redhat-1
[0m[0m2018-08-08 09:40:53,456 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 42) WFLYRS0016: RESTEasy version 3.0.25.Final-redhat-1
[0m[0m2018-08-08 09:40:53,465 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem. JGroups version 3.6.14
[0m[0m2018-08-08 09:40:53,472 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker 'default' has auto-configured to 8 core threads with 64 task threads based on your 4 available processors
[0m[0m2018-08-08 09:40:53,480 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.
[0m[0m2018-08-08 09:40:53,489 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem
[0m[0m2018-08-08 09:40:53,510 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem
[0m[0m2018-08-08 09:40:53,549 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 48) WFLYJSF0007: Activated the following JSF Implementations: [main]
[0m[0m2018-08-08 09:40:53,545 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=5.0.3.Final-redhat-1
[0m[0m2018-08-08 09:40:53,556 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension
[0m[0m2018-08-08 09:40:53,564 INFO  [org.jboss.as.connector] (MSC service thread 1-2) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.8.Final-redhat-1)
[0m[0m2018-08-08 09:40:53,573 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)
[0m[0m2018-08-08 09:40:53,592 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2
[0m[0m2018-08-08 09:40:53,595 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0003: Undertow 1.4.18.SP5-redhat-1 starting
[0m[0m2018-08-08 09:40:53,623 INFO  [org.jboss.remoting] (MSC service thread 1-6) JBoss Remoting version 5.0.5.Final-redhat-1
[0m[0m2018-08-08 09:40:53,665 INFO  [org.jboss.as.naming] (MSC service thread 1-5) WFLYNAM0003: Starting Naming Service
[0m[0m2018-08-08 09:40:53,675 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
[0m[0m2018-08-08 09:40:53,900 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.
[0m[0m2018-08-08 09:40:53,899 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.
[0m[0m2018-08-08 09:40:53,968 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path '/opt/eap/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
[0m[0m2018-08-08 09:40:54,001 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0012: Started server default-server.
[0m[0m2018-08-08 09:40:54,011 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0018: Host default-host starting
[0m[0m2018-08-08 09:40:54,711 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow AJP listener ajp listening on 0.0.0.0:8009
[0m[0m2018-08-08 09:40:54,711 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:8080
[0m[0m2018-08-08 09:40:54,717 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.9.Final-redhat-1
[0m[0m2018-08-08 09:40:54,732 INFO  [org.jboss.as.ejb3] (MSC service thread 1-6) WFLYEJB0493: EJB subsystem suspension complete
[0m[0m2018-08-08 09:40:54,759 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364
[0m[0m2018-08-08 09:40:54,868 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
[0m[0m2018-08-08 09:40:54,921 INFO  [org.jboss.as.patching] (MSC service thread 1-4) WFLYPAT0050: JBoss EAP cumulative patch ID is: jboss-eap-7.1.2.CP, one-off patches include: none
[0m[0m2018-08-08 09:40:54,976 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-5) WFLYDS0013: Started FileSystemDeploymentService for directory /opt/eap/standalone/deployments
[0m[0m2018-08-08 09:40:54,981 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0027: Starting deployment of "activemq-rar.rar" (runtime-name: "activemq-rar.rar")
[0m[0m2018-08-08 09:40:54,985 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of "hawkular-metrics.war" (runtime-name: "hawkular-metrics.war")
[0m[0m2018-08-08 09:40:55,029 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443
[0m[0m2018-08-08 09:40:55,128 INFO  [org.jboss.ws.common.management] (MSC service thread 1-1) JBWS022052: Starting JBossWS 5.1.10.Final-redhat-1 (Apache CXF 3.1.13.redhat-1) 
[0m[0m2018-08-08 09:40:57,212 INFO  [org.jboss.as.connector.deployers.RADeployer] (MSC service thread 1-7) IJ020001: Required license terms for file:/opt/eap/standalone/tmp/vfs/temp/temp437b06641d10b337/content-12461181a277c1ca/contents/
[0m[33m2018-08-08 09:40:57,308 WARN  [org.jboss.as.connector.deployers.RADeployer] (MSC service thread 1-7) IJ020017: Invalid archive: file:/opt/eap/standalone/tmp/vfs/temp/temp437b06641d10b337/content-12461181a277c1ca/contents/
[0m[0m2018-08-08 09:40:57,386 INFO  [org.jgroups.protocols.openshift.KUBE_PING] (ServerService Thread Pool -- 64) namespace [openshift-infra] set; clustering enabled
[0m[33m2018-08-08 09:40:57,620 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment "deployment.hawkular-metrics.war" is using a private module ("org.infinispan") which may be changed or removed in future versions without notice.
[0m[33m2018-08-08 09:40:57,620 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment "deployment.hawkular-metrics.war" is using a private module ("org.jboss.xnio.nio") which may be changed or removed in future versions without notice.
[0m[0m2018-08-08 09:40:57,798 INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) WFLYWELD0003: Processing weld deployment hawkular-metrics.war
[0m[0m2018-08-08 09:40:57,869 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-4) HV000001: Hibernate Validator 5.3.5.Final-redhat-2
[0m[0m2018-08-08 09:40:58,096 INFO  [org.jboss.weld.Version] (MSC service thread 1-4) WELD-000900: 2.4.7 (redhat)
[0m[0m2018-08-08 09:41:02,347 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-8) ISPN000078: Starting JGroups channel ee
[0m[0m2018-08-08 09:41:02,349 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000078: Starting JGroups channel ee
[0m[0m2018-08-08 09:41:02,349 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-4) ISPN000078: Starting JGroups channel ee
[0m[0m2018-08-08 09:41:02,349 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000078: Starting JGroups channel ee
[0m[0m2018-08-08 09:41:02,350 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000078: Starting JGroups channel ee
[0m[0m2018-08-08 09:41:02,365 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000094: Received new cluster view for channel ee: [hawkular-metrics-fpr2v|0] (1) [hawkular-metrics-fpr2v]
[0m[0m2018-08-08 09:41:02,365 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000094: Received new cluster view for channel ee: [hawkular-metrics-fpr2v|0] (1) [hawkular-metrics-fpr2v]
[0m[0m2018-08-08 09:41:02,367 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000094: Received new cluster view for channel ee: [hawkular-metrics-fpr2v|0] (1) [hawkular-metrics-fpr2v]
[0m[0m2018-08-08 09:41:02,367 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-8) ISPN000094: Received new cluster view for channel ee: [hawkular-metrics-fpr2v|0] (1) [hawkular-metrics-fpr2v]
[0m[0m2018-08-08 09:41:02,367 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-4) ISPN000094: Received new cluster view for channel ee: [hawkular-metrics-fpr2v|0] (1) [hawkular-metrics-fpr2v]
[0m[0m2018-08-08 09:41:02,370 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-4) ISPN000079: Channel ee local address is hawkular-metrics-fpr2v, physical addresses are [10.129.1.140:7600]
[0m[0m2018-08-08 09:41:02,376 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-8) ISPN000079: Channel ee local address is hawkular-metrics-fpr2v, physical addresses are [10.129.1.140:7600]
[0m[0m2018-08-08 09:41:02,377 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-4) ISPN000128: Infinispan version: Infinispan 'Chakra' 8.2.10.Final-redhat-1
[0m[0m2018-08-08 09:41:02,377 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000079: Channel ee local address is hawkular-metrics-fpr2v, physical addresses are [10.129.1.140:7600]
[0m[0m2018-08-08 09:41:02,377 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000079: Channel ee local address is hawkular-metrics-fpr2v, physical addresses are [10.129.1.140:7600]
[0m[0m2018-08-08 09:41:02,377 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000079: Channel ee local address is hawkular-metrics-fpr2v, physical addresses are [10.129.1.140:7600]
[0m[0m2018-08-08 09:41:02,638 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started locks cache from hawkular-metrics container
[0m[0m2018-08-08 09:41:02,641 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started client-mappings cache from ejb container
[0m[0m2018-08-08 09:41:02,705 INFO  [org.wildfly.security] (MSC service thread 1-6) ELY00001: WildFly Elytron version 1.1.9.Final-redhat-1
[0m[0m2018-08-08 09:41:03,535 INFO  [org.hawkular.openshift.auth.OpenshiftAuthServletExtension] (ServerService Thread Pool -- 65) Enabling the OpenShift Namespace Filter.
[0m[0m2018-08-08 09:41:04,080 INFO  [org.hawkular.metrics.api.jaxrs.MetricsServiceLifecycle] (ServerService Thread Pool -- 65) Hawkular Metrics version: 0.29.1.Final-redhat-1
[0m[0m2018-08-08 09:41:04,089 INFO  [org.hawkular.metrics.api.jaxrs.MetricsServiceLifecycle] (metricsservice-lifecycle-thread) HAWKMETRICS200002: Initializing metrics service
[0m[0m2018-08-08 09:41:04,162 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 65) Initializing Mojarra 2.2.13.SP5  for context '/hawkular/metrics'
[0m[0m2018-08-08 09:41:04,195 INFO  [com.datastax.driver.core.GuavaCompatibility] (metricsservice-lifecycle-thread) Detected Guava < 19 in the classpath, using legacy compatibility layer
[0m[0m2018-08-08 09:41:04,404 INFO  [com.datastax.driver.core.ClockFactory] (metricsservice-lifecycle-thread) Using native clock to generate timestamps.
[0m[0m2018-08-08 09:41:04,527 INFO  [com.datastax.driver.core.SystemProperties] (metricsservice-lifecycle-thread) com.datastax.driver.FORCE_NIO is defined, using value true
[0m[0m2018-08-08 09:41:04,545 INFO  [com.datastax.driver.core.NettyUtil] (metricsservice-lifecycle-thread) Found Netty's native epoll transport in the classpath, but NIO was forced through the FORCE_NIO system property.
[0m[0m2018-08-08 09:41:05,192 INFO  [com.datastax.driver.core.policies.DCAwareRoundRobinPolicy] (metricsservice-lifecycle-thread) Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
[0m[0m2018-08-08 09:41:05,195 INFO  [com.datastax.driver.core.Cluster] (metricsservice-lifecycle-thread) New Cassandra host hawkular-cassandra/172.30.177.130:9042 added
[0m[0m2018-08-08 09:41:05,533 INFO  [org.hawkular.openshift.auth.org.hawkular.openshift.namespace.NamespaceHandler] (ServerService Thread Pool -- 65) Creating NamespaceHandler
[0m[0m2018-08-08 09:41:05,534 INFO  [org.hawkular.openshift.auth.org.hawkular.openshift.namespace.NamespaceHandler] (ServerService Thread Pool -- 65) Received token from /var/run/secrets/kubernetes.io/serviceaccount/token
[0m[0m2018-08-08 09:41:05,543 INFO  [com.datastax.driver.core.ClockFactory] (ServerService Thread Pool -- 65) Using native clock to generate timestamps.
[0m[0m2018-08-08 09:41:05,763 INFO  [com.datastax.driver.core.policies.DCAwareRoundRobinPolicy] (ServerService Thread Pool -- 65) Using data-center name 'datacenter1' for DCAwareRoundRobinPolicy (if this is incorrect, please provide the correct datacenter name with DCAwareRoundRobinPolicy constructor)
[0m[0m2018-08-08 09:41:05,763 INFO  [com.datastax.driver.core.Cluster] (ServerService Thread Pool -- 65) New Cassandra host hawkular-cassandra/172.30.177.130:9042 added
[0m[0m2018-08-08 09:41:06,469 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Executing [script:vfs:/content/hawkular-metrics.war/WEB-INF/lib/hawkular-metrics-schema-0.29.1.Final-redhat-1.jar/org/hawkular/schema/cassalog.groovy, tags:[0.15.x, 0.18.x, 0.19.x, 0.20.x, 0.21.x, 0.23.x, 0.26.x, 0.27.x, 0.29.x], vars:[keyspace:hawkular_metrics, reset:false, session:com.datastax.driver.core.SessionManager@41b424c, replicationFactor:1, logger:org.jboss.logging.JBossLogManagerLogger@636e4a2b]]
[0m[0m2018-08-08 09:41:06,621 INFO  [org.hawkular.openshift.auth.org.hawkular.openshift.namespace.NamespaceHandler] (ServerService Thread Pool -- 65) Received namespace overrides: {}
[0m[0m2018-08-08 09:41:07,157 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating table tenants
[0m[0m2018-08-08 09:41:07,186 INFO  [org.hawkular.metrics.api.jaxrs.HawkularMetricsRestApp] (ServerService Thread Pool -- 65) HAWKMETRICS200001: Hawkular Metrics starting
[0m[0m2018-08-08 09:41:07,187 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 65) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.hawkular.metrics.api.jaxrs.HawkularMetricsRestApp
[0m[0m2018-08-08 09:41:07,397 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating type aggregation_template
[0m[0m2018-08-08 09:41:07,517 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating table tenants_by_time
[0m[0m2018-08-08 09:41:07,674 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 65) WFLYUT0021: Registered web context: '/hawkular/metrics' for server 'default-server'
[0m[0m2018-08-08 09:41:07,700 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 37) WFLYSRV0010: Deployed "hawkular-metrics.war" (runtime-name : "hawkular-metrics.war")
[0m[0m2018-08-08 09:41:07,700 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 37) WFLYSRV0010: Deployed "activemq-rar.rar" (runtime-name : "activemq-rar.rar")
[0m[0m2018-08-08 09:41:07,834 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
[0m[0m2018-08-08 09:41:07,837 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management
[0m[0m2018-08-08 09:41:07,837 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990
[0m[0m2018-08-08 09:41:07,837 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.1.2.GA (WildFly Core 3.0.13.Final-redhat-1) started in 17420ms - Started 555 of 898 services (564 services are lazy, passive or on-demand)
[0m[0m2018-08-08 09:41:07,908 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating type aggregate_data
[0m[0m2018-08-08 09:41:08,071 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating table data
[0m[0m2018-08-08 09:41:08,242 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating table metrics_tags_idx
[0m[0m2018-08-08 09:41:08,341 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating table metrics_idx
[0m[0m2018-08-08 09:41:08,459 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating table retentions_idx
[0m[0m2018-08-08 09:41:08,580 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating type trigger_def
[0m[0m2018-08-08 09:41:08,662 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating table tasks
[0m[0m2018-08-08 09:41:08,762 INFO  [org.hawkular.metrics.schema.SchemaService] (metricsservice-lifecycle-thread) Creating table leases
[0m[0m2018-08-08 09:41:09,262 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Creating change log table hawkular_metrics.cassalog
[0m[33m2018-08-08 09:41:09,452 WARN  [com.datastax.driver.core.Cluster] (cluster1-worker-2) Re-preparing already prepared query is generally an anti-pattern and will likely affect performance. Consider preparing the statement only once. Query='UPDATE hawkular_metrics.cassalog SET applied_at = ? WHERE bucket = ? AND revision = ?'
[0m[0m2018-08-08 09:41:09,470 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: set-keyspace
USE hawkular_metrics
--
[0m[0m2018-08-08 09:41:09,511 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 1.0

CREATE TABLE sys_config (
    config_id text,
    name text,
    value text,
    PRIMARY KEY (config_id, name)
) WITH compaction = { 'class': 'LeveledCompactionStrategy' }

--
[0m[0m2018-08-08 09:41:09,612 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 1.1
ALTER TABLE data WITH gc_grace_seconds = 86400
--
[0m[0m2018-08-08 09:41:09,696 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 1.2
ALTER TABLE data ADD tags map<text,text>
--
[0m[0m2018-08-08 09:41:09,803 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 1.3
ALTER TABLE data ADD s_value text
--
[0m[0m2018-08-08 09:41:09,920 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 1.4
INSERT INTO sys_config (config_id, name, value) VALUES ('org.hawkular.metrics', 'string-size', '2048')
--
[0m[0m2018-08-08 09:41:09,933 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: set-keyspace
USE hawkular_metrics
--
[0m[0m2018-08-08 09:41:09,946 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 2.0

CREATE TABLE locks (
    name text PRIMARY KEY,
    value text,
) WITH compaction = { 'class': 'LeveledCompactionStrategy' }

--
[0m[0m2018-08-08 09:41:10,031 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 2.1

CREATE TABLE jobs (
    id uuid PRIMARY KEY,
    type text,
    name text,
    params map<text, text>,
    trigger frozen <trigger_def>
) WITH compaction = { 'class': 'LeveledCompactionStrategy' }

--
[0m[0m2018-08-08 09:41:10,164 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 2.2

CREATE TABLE scheduled_jobs_idx (
    time_slice timestamp,
    job_id uuid,
    PRIMARY KEY (time_slice, job_id)
) WITH compaction = { 'class': 'LeveledCompactionStrategy' }

--
[0m[0m2018-08-08 09:41:10,314 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 2.3

CREATE TABLE finished_jobs_idx (
    time_slice timestamp,
    job_id uuid,
    PRIMARY KEY (time_slice, job_id)
) WITH compaction = { 'class': 'LeveledCompactionStrategy' }

--
[0m[0m2018-08-08 09:41:10,420 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 2.4

CREATE TABLE active_time_slices (
    time_slice timestamp PRIMARY KEY
) WITH compaction = { 'class' : 'LeveledCompactionStrategy' }

--
[0m[0m2018-08-08 09:41:10,575 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 3.0

ALTER TABLE hawkular_metrics.data WITH COMPRESSION = {'sstable_compression': 'DeflateCompressor'};

--
[0m[0m2018-08-08 09:41:10,668 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 3.1
ALTER TABLE data WITH compaction = {'class': 'DateTieredCompactionStrategy'} AND default_time_to_live = 604800
--
[0m[0m2018-08-08 09:41:10,794 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 3.2
ALTER TABLE data DROP aggregates
--
[0m[0m2018-08-08 09:41:10,997 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 3.3
DROP TYPE aggregate_data
--
[0m[0m2018-08-08 09:41:11,154 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 3.4
ALTER TABLE data DROP data_retention
--
[0m[0m2018-08-08 09:41:11,371 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 3.5
DROP TYPE aggregation_template
--
[0m[0m2018-08-08 09:41:11,466 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 3.6
DROP TABLE tenants_by_time
--
[0m[0m2018-08-08 09:41:11,761 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: set-keyspace
USE hawkular_metrics
--
[0m[0m2018-08-08 09:41:11,782 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 4.0

CREATE TABLE data_compressed (
    tenant_id text,
    type tinyint,
    metric text,
    dpart bigint,
    time timestamp,
    c_value blob,
    ts_value blob,
    tags blob,
    PRIMARY KEY ((tenant_id, type, metric, dpart), time)
) WITH CLUSTERING ORDER BY (time DESC)

--
[0m[0m2018-08-08 09:41:11,976 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 4.1

ALTER TABLE data WITH COMPRESSION = {'sstable_compression': 'LZ4Compressor'};

--
[0m[0m2018-08-08 09:41:12,064 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 5.0
ALTER TABLE scheduled_jobs_idx ADD job_name text
--
[0m[0m2018-08-08 09:41:12,168 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 5.1
ALTER TABLE scheduled_jobs_idx ADD job_params frozen<map<text, text>>
--
[0m[0m2018-08-08 09:41:12,253 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 5.2
ALTER TABLE scheduled_jobs_idx ADD trigger frozen<trigger_def>
--
[0m[0m2018-08-08 09:41:12,333 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 5.3
ALTER TABLE scheduled_jobs_idx ADD job_type text
--
[0m[0m2018-08-08 09:41:12,441 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 5.4
ALTER TABLE scheduled_jobs_idx ADD status tinyint
--
[0m[0m2018-08-08 09:41:12,552 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 5.5
INSERT INTO sys_config (config_id, name, value) VALUES ('org.hawkular.metrics', 'gc_grace_seconds', '604800')
--
[0m[0m2018-08-08 09:41:12,568 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 5.6

BEGIN UNLOGGED BATCH
    INSERT INTO sys_config (config_id, name, value)
        VALUES ('org.hawkular.metrics', 'ingestion.retry.max-retries', '5');
    INSERT INTO sys_config (config_id, name, value)
        VALUES ('org.hawkular.metrics', 'ingestion.retry.max-delay', '30000');
APPLY BATCH;

--
[0m[0m2018-08-08 09:41:12,579 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 6.0

ALTER TABLE data_compressed WITH compaction = {
  'class': 'TimeWindowCompactionStrategy',
  'compaction_window_unit': 'DAYS',
  'compaction_window_size': '1'
}

--
[0m[0m2018-08-08 09:41:12,648 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 6.1
ALTER TABLE data WITH compaction = {'class': 'SizeTieredCompactionStrategy'}
--
[0m[0m2018-08-08 09:41:12,714 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 7.0

  CREATE TABLE metrics_expiration_idx (
    tenant_id text,
    type tinyint,
    metric text,
    time timestamp,
    PRIMARY KEY ((tenant_id, type), metric)
  )

--
[0m[0m2018-08-08 09:41:12,816 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 8.0

ALTER TABLE data WITH compaction = {
  'class': 'TimeWindowCompactionStrategy',
  'compaction_window_unit': 'DAYS',
  'compaction_window_size': '1'
}

--
[0m[0m2018-08-08 09:41:12,914 INFO  [org.cassalog.core.CassalogImpl] (metricsservice-lifecycle-thread) Applying ChangeSet
-- version: 9.0
DROP TABLE metrics_expiration_idx
--
[0m[0m2018-08-08 09:41:13,087 INFO  [org.hawkular.metrics.api.jaxrs.MetricsServiceLifecycle] (metricsservice-lifecycle-thread) The keyspace hawkular_metrics is using a replication_factor of 1
[0m[0m2018-08-08 09:41:13,630 INFO  [org.hawkular.metrics.core.service.MetricsServiceImpl] (metricsservice-lifecycle-thread) HAWKMETRICS100001: Using a key space of 'hawkular_metrics'
[0m[0m2018-08-08 09:41:13,656 INFO  [org.hawkular.metrics.core.service.MetricsServiceImpl] (metricsservice-lifecycle-thread) HAWKMETRICS100008: Using max size of 2048 for string metrics
[0m[0m2018-08-08 09:41:13,656 INFO  [org.hawkular.metrics.core.service.MetricsServiceImpl] (metricsservice-lifecycle-thread) HAWKMETRICS100009: Using max number of retries 5 and max retry delay of 30000 ms for inserting data points
[0m[0m2018-08-08 09:41:13,658 INFO  [org.hawkular.metrics.core.service.MetricsServiceImpl] (metricsservice-lifecycle-thread) HAWKMETRICS100007: Using default data retention of 604800 seconds
[0m[33m2018-08-08 09:41:14,707 WARN  [org.hawkular.metrics.core.dropwizard.HawkularMetricsRegistryListener] (metricsservice-lifecycle-thread) Did not find meta data for timer openshift-oauth-kubernetes-response-time that has been added to the registry
[0m[33m2018-08-08 09:41:14,726 WARN  [org.hawkular.metrics.core.dropwizard.HawkularMetricsRegistryListener] (metricsservice-lifecycle-thread) Did not find meta data for timer openshift-oauth-latency that has been added to the registry
[0m[33m2018-08-08 09:41:15,032 WARN  [org.hawkular.metrics.core.jobs.JobsServiceImpl] (metricsservice-lifecycle-thread) Expected to find a jobId property in database for COMPRESS_DATA. Attempting to unschedule job by name.
[0m[33m2018-08-08 09:41:15,049 WARN  [com.datastax.driver.core.Cluster] (cluster1-worker-3) Re-preparing already prepared query is generally an anti-pattern and will likely affect performance. Consider preparing the statement only once. Query='SELECT DISTINCT tenant_id, tname FROM metrics_tags_idx'
[0m[0m2018-08-08 09:41:15,211 INFO  [org.hawkular.metrics.core.jobs.JobsServiceImpl] (metricsservice-lifecycle-thread) Scheduled temporary table creator JobDetailsImpl{jobId=c8975b1d-223d-4727-863d-7365fc2f684f, jobType=TEMP_TABLE_CREATOR, jobName=TEMP_TABLE_CREATOR, parameters={}, trigger=RepeatingTrigger{triggerTime=1533721380000, interval=7200000, delay=60000}, status=NONE}
[0m[0m2018-08-08 09:41:15,215 INFO  [org.hawkular.metrics.core.jobs.JobsServiceImpl] (metricsservice-lifecycle-thread) Preparing to create and schedule TEMP_DATA_COMPRESSOR job
[0m[0m2018-08-08 09:41:15,235 INFO  [org.hawkular.metrics.core.jobs.JobsServiceImpl] (metricsservice-lifecycle-thread) Created and scheduled JobDetailsImpl{jobId=fe75a4fd-4d79-47d1-b608-41db878f15eb, jobType=TEMP_DATA_COMPRESSOR, jobName=TEMP_DATA_COMPRESSOR, parameters={}, trigger=RepeatingTrigger{triggerTime=1533726000000, interval=7200000, delay=60000}, status=NONE}
[0m[0m2018-08-08 09:41:15,251 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (metricsservice-lifecycle-thread) Checking tables in hawkular_metrics to see if gc_grace_seconds needs to be updated
[0m[0m2018-08-08 09:41:15,272 INFO  [org.hawkular.metrics.core.service.TempTablesCleaner] (metricsservice-lifecycle-thread) Checking for expired temp tables
[0m[0m2018-08-08 09:41:15,275 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-2) gc_grace_seconds for active_time_slices is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:15,276 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-2) gc_grace_seconds for cassalog is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:15,276 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-2) gc_grace_seconds for data is set to 86400. Resetting to 0
[0m[33m2018-08-08 09:41:15,300 WARN  [org.hawkular.metrics.core.dropwizard.HawkularObjectNameFactory] (metricsservice-lifecycle-thread) No meta data found for openshift-oauth-kubernetes-response-time
[0m[33m2018-08-08 09:41:15,302 WARN  [org.hawkular.metrics.core.dropwizard.HawkularObjectNameFactory] (metricsservice-lifecycle-thread) No meta data found for openshift-oauth-latency
[0m[0m2018-08-08 09:41:15,310 INFO  [org.hawkular.metrics.api.jaxrs.MetricsServiceLifecycle] (metricsservice-lifecycle-thread) HAWKMETRICS200005: Metrics service started
[0m[0m2018-08-08 09:41:15,416 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-3) gc_grace_seconds for data_0 is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:15,552 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-4) gc_grace_seconds for data_compressed is set to 864000. Resetting back to zero.
[0m[0m2018-08-08 09:41:15,553 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-1) gc_grace_seconds for data_temp_2018080808 is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:15,703 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-3) gc_grace_seconds for data_temp_2018080810 is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:15,755 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-4) gc_grace_seconds for data_temp_2018080812 is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:15,811 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-1) gc_grace_seconds for finished_jobs_idx is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:15,893 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-2) gc_grace_seconds for jobs is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:15,944 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-3) gc_grace_seconds for leases is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,000 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-4) gc_grace_seconds for locks is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,086 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-1) gc_grace_seconds for metrics_idx is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,156 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-2) gc_grace_seconds for metrics_tags_idx is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,225 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-3) gc_grace_seconds for retentions_idx is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,442 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-4) gc_grace_seconds for scheduled_jobs_idx is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,519 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-1) gc_grace_seconds for sys_config is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,620 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-2) gc_grace_seconds for tasks is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,675 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-3) gc_grace_seconds for tenants is set to 864000. Resetting to 0
[0m[0m2018-08-08 09:41:16,875 INFO  [org.hawkular.metrics.core.util.GCGraceSecondsManager] (RxComputationScheduler-2) Finished gc_grace_seconds updates in 1623 ms
[0m[0m2018-08-08 11:00:15,267 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-4) Starting to process temp table for starting time of 2018-08-08T08:00:00.000Z
[0m[0m2018-08-08 11:00:17,020 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-1) Finished processing data in 1764 ms
[0m[0m2018-08-08 13:00:15,254 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-6) Starting to process temp table for starting time of 2018-08-08T10:00:00.000Z
[0m[0m2018-08-08 13:00:18,752 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-2) Finished processing data in 3497 ms
[0m[0m2018-08-08 15:00:15,253 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-8) Starting to process temp table for starting time of 2018-08-08T12:00:00.000Z
[0m[0m2018-08-08 15:00:19,376 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-3) Finished processing data in 4123 ms
[0m[0m2018-08-08 17:00:15,255 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-10) Starting to process temp table for starting time of 2018-08-08T14:00:00.000Z
[0m[0m2018-08-08 17:00:18,443 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-2) Finished processing data in 3188 ms
[0m[0m2018-08-08 19:00:15,253 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-12) Starting to process temp table for starting time of 2018-08-08T16:00:00.000Z
[0m[0m2018-08-08 19:00:18,475 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-3) Finished processing data in 3221 ms
[0m[0m2018-08-08 21:00:15,251 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-14) Starting to process temp table for starting time of 2018-08-08T18:00:00.000Z
[0m[0m2018-08-08 21:00:18,354 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-3) Finished processing data in 3102 ms
[0m[0m2018-08-08 23:00:15,254 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-16) Starting to process temp table for starting time of 2018-08-08T20:00:00.000Z
[0m[0m2018-08-08 23:00:18,371 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-1) Finished processing data in 3117 ms
[0m[0m2018-08-09 01:00:15,252 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-18) Starting to process temp table for starting time of 2018-08-08T22:00:00.000Z
[0m[0m2018-08-09 01:00:18,389 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-1) Finished processing data in 3136 ms
[0m[0m2018-08-09 03:00:15,252 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-20) Starting to process temp table for starting time of 2018-08-09T00:00:00.000Z
[0m[0m2018-08-09 03:00:18,378 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-4) Finished processing data in 3126 ms
[0m[0m2018-08-09 05:00:15,253 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxIoScheduler-22) Starting to process temp table for starting time of 2018-08-09T02:00:00.000Z
[0m[0m2018-08-09 05:00:18,371 INFO  [org.hawkular.metrics.core.jobs.TempDataCompressor] (RxComputationScheduler-3) Finished processing data in 3118 ms
